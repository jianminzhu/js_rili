var DateUtil = /** @class */ (function () {
    function DateUtil(dateStart, dateEnd, tplFun, contentId, $, m) {
        if (tplFun === void 0) { tplFun = function (dateStr, days) {
            return "<span class=\"day\">" + days + "</span>";
        }; }
        if (contentId === void 0) { contentId = "contentId"; }
        if ($ === void 0) { $ = window["jQuery"] || window["Zepto"] || window["$"]; }
        if (m === void 0) { m = window["moment"]; }
        this.tplFun = tplFun;
        this.contentId = contentId;
        this.$ = $;
        this.m = m;
        this.begin = m(dateStart);
        this._s = m(dateStart);
        var mstart = this.begin.startOf('month');
        this.realStart = m(mstart).startOf('week');
        this.end = m(dateEnd);
        var mend = this.end.endOf('month');
        this.realEnd = m(mend).startOf('week');
        $("body ").delegate("#" + contentId + " [data-opt-close]", "click", function () {
            $($(this).attr("data-opt-close")).hide();
        });
        var v = this;
        $("body ").delegate("#" + contentId + " [ data-date]", "click", function () {
            v.jinput.val($(this).data("date"));
            v.hide();
        });
        this.jit = $("#" + contentId);
        if (this.jit.length === 0) {
            var all = [];
            var now = m(this.begin);
            while (now <= this.end) {
                all.push(this.getMonthItems(now));
                now = now.add(1, "months");
            }
            var allMonthContent = all.join("\n");
            $("body").append("\n            <div id=\"" + contentId + "\"  style=\"display: none;\"> \n    <div data-reactroot=\"\">\n        <div class=\"calendar-page \">\n            <div class=\"m-calendar m-noSelectBar-calendar \">\n                <header class=\"page-header \">\n                    <div class=\"left-action \">\n                        <div class=\"left-btn\" data-opt-close=\"#" + contentId + "\">\u8FD4\u56DE</div>\n                    </div>\n                    <div class=\"page-title\">\u65E5\u5386</div>\n                </header>\n                <div class=\"calendar-bar\">\n                    <div class=\"calendar-tab\">\n                    </div>\n                    <ul class=\"calendar-date-bar\">\n                        <li class=\"dates-item\">\u65E5</li>\n                        <li class=\"dates-item\">\u4E00</li>\n                        <li class=\"dates-item\">\u4E8C</li>\n                        <li class=\"dates-item\">\u4E09</li>\n                        <li class=\"dates-item\">\u56DB</li>\n                        <li class=\"dates-item\">\u4E94</li>\n                        <li class=\"dates-item\">\u516D</li>\n                    </ul>\n                </div>\n                <div class=\"calendar-content\" id=\"calendar-content\">\n                   " + allMonthContent + "\n                   \n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n                    <style> \n.icon {\n    line-height: 1\n}\n\n.new_icon {\n    line-height: 1\n}\n\n.new_icon:before {\n    font-family: touch_spa;\n    font-style: normal;\n    font-weight: normal !important\n}\n\n.icon:before {\n    font-family: touch_spa;\n    font-style: normal;\n    font-weight: normal !important\n}\n\n.i-calendar:before {\n    content: \"\\F19F\";\n    font-size: 24px;\n    margin: 4px 0;\n    display: inline-block\n}\n\n.i-arrow_down:before {\n    content: \"\\F3CB\"\n}\n\n.i-arrow_left:before {\n    content: \"\\F3CD\"\n}\n\n.i-arrow_right:before {\n    content: \"\\E002\"\n}\n\n.i-arrow_up:before {\n    content: \"\\E003\"\n}\n\n.i-home:before {\n    content: \"\\F50C\";\n    font-size: 20px;\n    color: #fff\n}\n\n.i-help:before {\n    content: \"\\E004\"\n}\n\n.i-expand:before {\n    content: \"\\E005\"\n}\n\n.i-accept:before {\n    content: \"\\E006\"\n}\n\n.i-guarantee:before {\n    content: \"\\E007\"\n}\n\n.i-oneway:before {\n    content: \"\\F43A\"\n}\n\n.i-roundway:before {\n    content: \"\\F49D\"\n}\n\n.i-split:before {\n    content: \"\\E00A\"\n}\n\n.i-yen:before {\n    content: \"\\F244\"\n}\n\n.i-bin:before {\n    content: \"\\E00C\"\n}\n\n.i-info:before {\n    content: \"\\E00D\"\n}\n\n.i-minus:before {\n    content: \"\\E00E\"\n}\n\n.i-plus:before {\n    content: \"\\E147\"\n}\n\n.i-edit:before {\n    content: \"\\E010\"\n}\n\n.i-contact:before {\n    content: \"\\E011\"\n}\n\n.i-pluso:before {\n    content: \"\\E012\"\n}\n\n.i-minuso:before {\n    content: \"\\E013\"\n}\n\n.i-bargain_flight:before {\n    content: \"\\E029\"\n}\n\n.i-flight_order:before {\n    content: \"\\F0E9\"\n}\n\n.i-flight_vip:before {\n    content: \"\\F364\"\n}\n\n.i-price_trend:before {\n    content: \"\\E0B8\"\n}\n\n.i-flight_dynamic:before {\n    content: \"\\E02A\"\n}\n\n.i-lowerprice_alert:before {\n    content: \"\\F154\"\n}\n\n.i-switch_city:before {\n    content: \"\\F3C3\"\n}\n\n.i-clear_input:before {\n    content: \"\\E01A\"\n}\n\n.i-checked:before {\n    content: \"\\F496\"\n}\n\n.i-oneway_thin:before {\n    content: \"\\F173\"\n}\n\n.i-roundway_thin:before {\n    content: \"\\F174\"\n}\n\n.i-time_rank:before {\n    content: \"\\F065\"\n}\n\n.i-choose_total:before {\n    content: \"\\E01F\"\n}\n\n.i-price_rank:before {\n    content: \"\\F2FC\"\n}\n\n.i-selected:before {\n    content: \"\\F056\"\n}\n\n.i-filter:before {\n    content: \"\\F0F7\"\n}\n\n.i-recom_rank:before {\n    content: \"\\F3B8\"\n}\n\n.i-sort_desc:before {\n    content: \"\\E024\"\n}\n\n.i-sort_desc_new:before {\n    content: '\\2192'\n}\n\n.i-direct_flight:before {\n    content: '\\F553'\n}\n\n.icons-help:before {\n@extend . i-info: before;\n@extend . icon\n}\n\n.i-plane:before {\n    content: \"\\E025\"\n}\n\n* {\n    -webkit-tap-highlight-color: transparent\n}\n\nbody, div, dl, dt, dd, ul, ol, li, h1, h2, h3, h4, h5, h6, pre, form, fieldset, input, textarea, p, blockquote, th, td {\n    margin: 0;\n    padding: 0;\n    font-family: PingFang SC, arial, helvetica, STHeitiSC-Light, Heiti SC, droidsansfallback, dengxian, microsoft yahei;\n    -webkit-font-smoothing: antialiased\n}\n\nul, li {\n    list-style: none\n}\n\nhtml, body {\n    -webkit-text-size-adjust: 100%;\n    -moz-text-size-adjust: 100%;\n    -ms-text-size-adjust: 100%;\n    text-size-adjust: 100%;\n    color: #333;\n    background: #fff;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n\na {\n    color: #000;\n    text-decoration: none\n}\n\n.module-content {\n    display: none\n}\n\n#footer-gg {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    -moz-box-pack: center;\n    -ms-flex-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -moz-box-align: center;\n    -ms-flex-align: center;\n    align-items: center;\n    margin-top: 10px\n}\n\n#ad_qp_id {\n    display: block\n}\n\n.transitionWrapper-enter {\n    opacity: .01;\n    -webkit-transition: opacity 500ms ease-in;\n    -o-transition: opacity 500ms ease-in;\n    -moz-transition: opacity 500ms ease-in;\n    transition: opacity 500ms ease-in\n}\n\n.transitionWrapper-enter.transitionWrapper-enter-active {\n    opacity: 1\n}\n\n.transitionWrapper-leave {\n    opacity: 1;\n    -webkit-transition: opacity 500ms ease-in;\n    -o-transition: opacity 500ms ease-in;\n    -moz-transition: opacity 500ms ease-in;\n    transition: opacity 500ms ease-in\n}\n\n.transitionWrapper-leave.transitionWrapper-leave-active {\n    opacity: 0\n}\n\n.transitionWrapper {\n    position: relative\n}\n\nhtml, body {\n    height: 100%;\n    width: 100%\n}\n\n#app {\n    height: 100%\n}\n\n.app-content {\n    height: 100%\n}\n\n.page-header {\n    height: 44px;\n    font-size: 18px;\n    line-height: 44px;\n    text-align: center;\n    position: fixed;\n    width: 100%;\n    background: #1ba9ba;\n    top: 0;\n    z-index: 100\n}\n\n.page-header .page-title {\n    text-align: center;\n    color: #fff;\n    font-weight: 400;\n    margin: 0 60px;\n    overflow: hidden;\n    -o-text-overflow: ellipsis;\n    text-overflow: ellipsis;\n    white-space: nowrap\n}\n\n.page-header .left-action, .page-header .right-action {\n    width: 50px;\n    height: 44px;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    line-height: 44px\n}\n\n.page-header .right-action {\n    right: 0;\n    padding-right: 10px;\n    text-align: right\n}\n\n.page-header .left-action {\n    left: 0;\n    padding-left: 10px;\n    text-align: left;\n    cursor: pointer;\n    font-size: 20px;\n    vertical-align: middle;\n    color: #7ff\n}\n\n.page-header .left-btn, .page-header .right-btn {\n    color: #fff;\n    font-size: 16px\n}\n\n.header-tab {\n    width: 80%;\n    margin: auto;\n    height: 30px\n}\n\n.header-tab .left-tab, .header-tab .right-tab {\n    border: 1px #fff solid;\n    display: inline-block;\n    width: 40%;\n    height: 100%\n}\n\n.cityindex {\n    position: fixed;\n    width: 40px;\n    z-index: 2;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -moz-box-orient: vertical;\n    -moz-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    border-top: 90px solid transparent;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    color: #1ba1ba;\n    font-size: 12px;\n    min-height: -webkit-calc(100% - 90px)\n}\n\n.cityindex li {\n    width: 40px;\n    display: block;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    text-align: center\n}\n\n.locwrap {\n    font-size: 14px;\n    line-height: 30px;\n    padding: 8px 0;\n    height: 30px\n}\n\n.locwrap .locerr {\n    margin-right: 8px\n}\n\n.locwrap .locing {\n    position: absolute;\n    white-space: nowrap;\n    overflow: hidden;\n    -webkit-animation: 1.5s ease 0s infinite normal location-loading;\n    -moz-animation: 1.5s ease 0s infinite normal location-loading;\n    -o-animation: 1.5s ease 0s infinite normal location-loading;\n    animation: 1.5s ease 0s infinite normal location-loading\n}\n\n.locwrap .locing:after {\n    content: '...'\n}\n\n.locwrap .locbtn {\n    width: 100px;\n    font-size: 14px;\n    display: inline-block;\n    overflow: visible;\n    -o-text-overflow: clip;\n    text-overflow: clip;\n    color: #1ba1ba;\n    vertical-align: middle\n}\n\n.locwrap .locret {\n    width: 75px;\n    height: 32px;\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    font-size: 14px;\n    background: #fff;\n    text-align: center;\n    line-height: 30px;\n    display: inline-block;\n    margin: 0 12px 12px 0;\n    overflow: hidden;\n    -o-text-overflow: ellipsis;\n    text-overflow: ellipsis\n}\n\n@-webkit-keyframes location-loading {\n    from {\n        width: 55px\n    }\n    to {\n        width: 70px\n    }\n}\n\n@-moz-keyframes location-loading {\n    from {\n        width: 55px\n    }\n    to {\n        width: 70px\n    }\n}\n\n@-o-keyframes location-loading {\n    from {\n        width: 55px\n    }\n    to {\n        width: 70px\n    }\n}\n\n@keyframes location-loading {\n    from {\n        width: 55px\n    }\n    to {\n        width: 70px\n    }\n}\n\n.citylist {\n    position: absolute;\n    width: 100%;\n    top: 84px;\n    background: #f3f8fb;\n    color: #333;\n    -webkit-overflow-scrolling: touch;\n    bottom: 0;\n    overflow: scroll;\n    -webkit-transform: translateZ(0);\n    -moz-transform: translateZ(0);\n    transform: translateZ(0);\n    z-index: 1\n}\n\n.citylist dt {\n    line-height: 32px;\n    text-align: left;\n    font-size: 12px\n}\n\n.citylist dl {\n    padding-left: 15px;\n    font-size: 0;\n    overflow: hidden\n}\n\n.citylist dd {\n    width: 75px;\n    height: 32px;\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    font-size: 14px;\n    background: #fff;\n    text-align: center;\n    line-height: 30px;\n    display: inline-block;\n    margin: 0 12px 12px 0;\n    overflow: hidden;\n    -o-text-overflow: ellipsis;\n    text-overflow: ellipsis;\n    white-space: nowrap\n}\n\n.citylist dd.checked {\n    color: #1ba9ba\n}\n\n.citylist .title {\n    margin: 0;\n    padding: 0;\n    border-bottom: 1px solid #d7dbde\n}\n\n.citylist .title dt {\n    padding-left: 22px;\n    border-bottom: 1px solid #d7dbde\n}\n\n.citylist .title dd:last-child .city {\n    border: 0\n}\n\n.citylist .title dd {\n    position: relative;\n    width: 100%;\n    background: #fff;\n    height: 43px;\n    line-height: 43px;\n    font-size: 14px;\n    overflow: hidden;\n    margin: 0\n}\n\n.citylist .title dd.checked:before {\n    content: \"\\E1D1\";\n    position: absolute;\n    top: 0;\n    left: 7px;\n    display: block;\n    width: 25px;\n    height: 25px;\n    color: #1ba1ba\n}\n\n.citylist .title dd.checked {\n    color: #333\n}\n\n.citylist .title dd .city {\n    width: 90%;\n    text-align: left;\n    margin-top: -1px;\n    border-bottom: 1px solid #d7dbde;\n    position: relative;\n    height: 43px;\n    float: right\n}\n\n.citylist .title dd .city .code {\n    font-size: 12px;\n    color: #a6a6a6\n}\n\n.tips {\n    position: fixed;\n    width: 64px;\n    height: 64px;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    border-radius: 50%;\n    background: #ccc;\n    color: #fff;\n    z-index: 6;\n    left: 50%;\n    top: 50%;\n    -webkit-transform: translate(-50%, -50%);\n    -moz-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    -o-transform: translate(-50%, -50%);\n    transform: translate(-50%, -50%);\n    text-align: center;\n    line-height: 64px;\n    font-size: 26px\n}\n \n.alert-container {\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    padding: 25px;\n    display: none;\n    background-color: rgba(0, 0, 0, 0.42)\n}\n\n.alert-container.on {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    -webkit-box-pack: center;\n    -webkit-justify-content: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    align-items: center;\n    z-index: 9999\n}\n\n.alert-container .alert-content {\n    min-width: 270px;\n    background-color: #fff;\n    border-radius: 4px\n}\n\n.alert-container .alert-content .text {\n    padding: 15px;\n    max-height: 285px\n}\n\n.alert-container .alert-content .real-content {\n    max-height: 260px;\n    overflow: auto;\n    word-break: break-all;\n    text-align: center\n}\n\n.alert-container .alert-content .real-content .text {\n    padding: 0\n}\n\n.alert-container .alert-content .fb {\n    text-align: center;\n    font-weight: 900\n}\n\n.alert-container .alert-content p {\n    text-align: left\n}\n\n.alert-container .alert-content .btn-wrap {\n    border-top: solid 1px #e1e5e9;\n    font-size: 16px;\n    color: #157efb;\n    text-align: center\n}\n\n.alert-container .alert-content .btn-wrap .ok-btn {\n    padding: 8px 0;\n    display: inline-block;\n    width: 100%\n}\n\n.alert-container .alert-content .btn-wrap .confirm-btn {\n    font-weight: 900\n}\n\n.alert-container .alert-content .btn-wrap .confirm-btn, .alert-container .alert-content .btn-wrap .cancel-btn {\n    padding: 8px 0;\n    display: inline-block;\n    width: 49%;\n    width: calc(50% - 1px)\n}\n\n.alert-container .alert-content .btn-wrap .line {\n    padding: 8px 0;\n    border-left: solid 1px #e1e5e9\n}\n\n.alert-container .close {\n    position: absolute;\n    bottom: 70px;\n    color: #ddd\n}\n\n.m-slider {\n    display: none;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: #fff\n}\n\n.m-slider .slider-content {\n    height: 100%;\n    width: 100%;\n    overflow-y: auto;\n    -webkit-overflow-scrolling: touch\n}\n\n.m-slider.on {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    z-index: 9999\n}\n\n.m-slider .slider-info {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: flex;\n    min-width: 100%;\n    height: 100%;\n    position: absolute;\n    z-index: 102;\n    left: 0\n}\n\n.m-slider .slider-info .item {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    padding: 45px 30px 0;\n    height: 100%;\n    overflow: hidden\n}\n\n.m-slider .slider-info .item .text {\n    max-height: 80%;\n    max-height: calc(100% - 80px);\n    overflow: hidden;\n    overflow-y: auto;\n    word-break: break-all\n}\n\n.m-slider .slider-info .item .text .block {\n    padding-bottom: 20px\n}\n\n.m-slider .slider-info .item .text .block > li {\n    list-style: none;\n    font-size: 12px;\n    line-height: 1.7\n}\n\n.m-slider .slider-info .item .text .block:last-child {\n    border: 0\n}\n\n.m-slider .slider-info .item .label {\n    font-size: 15px;\n    padding-bottom: 10px\n}\n\n.m-slider .slider-info .item .title {\n    margin-bottom: 15px;\n    font-size: 15px;\n    font-weight: 700;\n    text-align: center\n}\n\n.m-slider .close-wrapper {\n    position: absolute;\n    bottom: 0;\n    height: 50px;\n    width: 100%;\n    background-color: #fff;\n    border-top: 1px solid #f2f2f2;\n    z-index: 9999\n}\n\n.m-slider .close-wrapper .close {\n    position: absolute;\n    left: 50%;\n    margin-left: -15px;\n    bottom: 9px;\n    z-index: 103;\n    width: 30px;\n    height: 30px;\n    overflow: hidden;\n    border: 1px solid #1ba9ba;\n    border-radius: 18px\n}\n\n.m-slider .close-wrapper .close::before, .m-slider .close-wrapper .close::after {\n    content: '';\n    position: absolute;\n    height: 2px;\n    width: 80%;\n    top: 50%;\n    left: 3px;\n    margin-top: -1px;\n    background: #1ba9ba\n}\n\n.m-slider .close-wrapper .close::before {\n    -webkit-transform: rotate(45deg);\n    -moz-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -o-transform: rotate(45deg);\n    transform: rotate(45deg)\n}\n\n.m-slider .close-wrapper .close::after {\n    -webkit-transform: rotate(-45deg);\n    -moz-transform: rotate(-45deg);\n    -ms-transform: rotate(-45deg);\n    -o-transform: rotate(-45deg);\n    transform: rotate(-45deg)\n}\n\n.m-slider .slider-dot {\n    position: absolute;\n    bottom: 45px;\n    left: 0;\n    right: 0;\n    text-align: center\n}\n\n.m-slider .slider-dot .btn {\n    margin: 5px;\n    display: inline-block;\n    width: 8px;\n    height: 8px;\n    border: solid 1px #c7c7cc;\n    -ms-border-radius: 50%;\n    border-radius: 50%\n}\n\n.m-slider .slider-dot .on {\n    background-color: #c7c7cc\n}\n\n.calendar-page {\n    position: fixed;\n    width: 100%;\n    height: 100%;\n    background-color: #fff;\n    z-index: 100;\n    top: 0\n}\n\n.m-calendar {\n    width: 100%;\n    height: 100%;\n    padding-top: 44px;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -moz-box-orient: vertical;\n    -moz-box-direction: normal;\n    -ms-flex-direction: column;\n    flex-direction: column\n}\n\n.m-calendar .calendar-bar {\n    width: 100%;\n    z-index: 1001;\n    background-color: #fff\n}\n\n.m-calendar .calendar-bar .calendar-select-bar {\n    margin: 5px 10px;\n    line-height: 38px;\n    height: 38px;\n    font-size: 15px;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .go-tab, .m-calendar .calendar-bar .calendar-select-bar .back-tab {\n    position: relative;\n    text-align: center;\n    background-color: #eee;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .go-tab .selecting, .m-calendar .calendar-bar .calendar-select-bar .back-tab .selecting {\n    border-bottom: 2px solid #1ba9ba\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .go-tab {\n    margin-right: 10px;\n    -webkit-border-radius: 10px 0 0 10px;\n    -moz-border-radius: 10px 0 0 10px;\n    border-radius: 10px 0 0 10px\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .go-tab .select-bar, .m-calendar .calendar-bar .calendar-select-bar .go-tab .selecting {\n    -webkit-border-radius: 10px 0 0 10px;\n    -moz-border-radius: 10px 0 0 10px;\n    border-radius: 10px 0 0 10px\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .back-tab {\n    margin-left: 10px;\n    -webkit-border-radius: 0 10px 10px 0;\n    -moz-border-radius: 0 10px 10px 0;\n    border-radius: 0 10px 10px 0\n}\n\n.m-calendar .calendar-bar .calendar-select-bar .back-tab .selecting, .m-calendar .calendar-bar .calendar-select-bar .back-tab .select-bar {\n    -webkit-border-radius: 0 10px 10px 0;\n    -moz-border-radius: 0 10px 10px 0;\n    border-radius: 0 10px 10px 0\n}\n\n.m-calendar .calendar-bar .calendar-date-bar {\n    height: 22px;\n    border-bottom: 1px solid #dce1e6;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex\n}\n\n.m-calendar .calendar-bar .calendar-date-bar .dates-item {\n    font-size: 20px;\n    -webkit-transform: scale(0.5);\n    -moz-transform: scale(0.5);\n    -ms-transform: scale(0.5);\n    -o-transform: scale(0.5);\n    transform: scale(0.5);\n    line-height: 15px;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    color: #000\n}\n\n.m-calendar .calendar-bar .calendar-date-bar .dates-item:first-child, .m-calendar .calendar-bar .calendar-date-bar .dates-item:last-child {\n    color: #ff8205\n}\n\n.m-calendar .calendar-content {\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n    overflow-scrolling: touch\n}\n\n.m-calendar .calendar-content .calender-month .calendar-month-title {\n    color: #333;\n    text-align: center;\n    font-size: 18px;\n    height: 40px;\n    line-height: 40px;\n    border-top: 1px solid #dce1e6;\n    padding-top: 5px;\n    margin-bottom: 8px\n}\n\n.m-calendar .calendar-content .calender-month:first-child .calendar-month-title {\n    border: 0\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .calendar-day {\n    position: relative;\n    color: #000;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    height: 60px;\n    line-height: 60px;\n    text-align: center;\n    font-size: 18px\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .calendar-day .top-string {\n    position: absolute;\n    top: 3px;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 20px;\n    line-height: 20px;\n    font-size: 11px;\n    -webkit-transform: scale(0.92);\n    -moz-transform: scale(0.92);\n    -ms-transform: scale(0.92);\n    -o-transform: scale(0.92);\n    transform: scale(0.92);\n    color: #888\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .calendar-day .price-string {\n    position: absolute;\n    top: 36px;\n    left: 0;\n    display: block;\n    width: 100%;\n    height: 20px;\n    line-height: 20px;\n    font-size: 11px;\n    -webkit-transform: scale(0.92);\n    -moz-transform: scale(0.92);\n    -ms-transform: scale(0.92);\n    -o-transform: scale(0.92);\n    transform: scale(0.92);\n    color: #666\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .calendar-day .low-price-string {\n    color: #ff8205\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .trust-day:not(.disable-day):active {\n    -webkit-border-radius: 6px;\n    -moz-border-radius: 6px;\n    border-radius: 6px;\n    background-color: #1ba9ba\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .trust-day:not(.disable-day):active .day {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .trust-day:not(.disable-day):active .top-string {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .trust-day:not(.disable-day):active .price-string {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .trust-day:not(.disable-day):active:before {\n    display: block;\n    position: absolute;\n    font-size: 11px;\n    -webkit-transform: scale(0.92);\n    -moz-transform: scale(0.92);\n    -ms-transform: scale(0.92);\n    -o-transform: scale(0.92);\n    transform: scale(0.92);\n    left: 50%;\n    margin-left: -18px;\n    top: 61%;\n    width: 36px;\n    height: 20px;\n    line-height: 20px;\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .holiday .day {\n    color: #ff8205\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .holiday .top-string {\n    color: #ff8205\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .disable-day .day {\n    color: #c7ced4\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .disable-day .top-string {\n    color: #c7ced4\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .weekend-day .day {\n    color: #ff8205\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day, .m-calendar .calendar-content .calender-month .calendar-week .select-single-day, .m-calendar .calendar-content .calender-month .calendar-week .select-back-day, .m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day {\n    -webkit-border-radius: 6px;\n    -moz-border-radius: 6px;\n    border-radius: 6px;\n    background-color: #1ba9ba\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day .day, .m-calendar .calendar-content .calender-month .calendar-week .select-single-day .day, .m-calendar .calendar-content .calender-month .calendar-week .select-back-day .day, .m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day .day {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day .top-string, .m-calendar .calendar-content .calender-month .calendar-week .select-single-day .top-string, .m-calendar .calendar-content .calender-month .calendar-week .select-back-day .top-string, .m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day .top-string {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day .price-string, .m-calendar .calendar-content .calender-month .calendar-week .select-single-day .price-string, .m-calendar .calendar-content .calender-month .calendar-week .select-back-day .price-string, .m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day .price-string {\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day:before, .m-calendar .calendar-content .calender-month .calendar-week .select-single-day:before, .m-calendar .calendar-content .calender-month .calendar-week .select-back-day:before, .m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day:before {\n    display: block;\n    position: absolute;\n    font-size: 11px;\n    -webkit-transform: scale(0.92);\n    -moz-transform: scale(0.92);\n    -ms-transform: scale(0.92);\n    -o-transform: scale(0.92);\n    transform: scale(0.92);\n    left: 50%;\n    margin-left: -18px;\n    top: 61%;\n    width: 36px;\n    height: 20px;\n    line-height: 20px;\n    color: #fff\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-day:before {\n    content: '\\53BB\\7A0B'\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-back-day:before {\n    content: '\\8FD4\\7A0B'\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .select-go-back-day:before {\n    content: '\\53BB+\\8FD4'\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .during-day {\n    background-color: #f5f5f5\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .during-day .day {\n    color: #1ba9ba\n}\n\n.m-calendar .calendar-content .calender-month .calendar-week .during-day .top-string {\n    color: #1ba9ba\n}\n\n.m-calendar .calendar-quick-search {\n    position: fixed;\n    bottom: 12px;\n    line-height: 40px;\n    -webkit-border-radius: 5px;\n    -moz-border-radius: 5px;\n    border-radius: 5px;\n    width: 80%;\n    height: 40px;\n    background-color: #ff8205;\n    margin-left: -40%;\n    left: 50%;\n    text-align: center;\n    color: #fff;\n    font-size: 18px\n}\n\n.calendar-hide {\n    display: none\n}\n\n.m-noHeader-calendar {\n    padding-top: 0\n}\n\n.m-noHeader-calendar .calendar-bar {\n    top: 0\n}\n\n.citysearch {\n    position: fixed;\n    top: 0;\n    height: 44px;\n    background: #1ba9ba;\n    width: 100%;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -moz-box;\n    display: -ms-flexbox;\n    display: flex;\n    z-index: 200\n}\n\n.citysearch .go-back {\n    display: block;\n    padding: 0 10px 0 10px;\n    line-height: 44px;\n    position: relative;\n    color: #fff;\n    font-size: 14px\n}\n\n.citysearch .cancel {\n    display: block;\n    font-size: 14px;\n    color: #7ff;\n    width: 44px;\n    height: 44px;\n    position: absolute;\n    right: -43px;\n    background: #1ba9ba;\n    line-height: 44px;\n    -webkit-transition: -webkit-transform .2s;\n    transition: -webkit-transform .2s;\n    -o-transition: -o-transform .2s;\n    -moz-transition: transform .2s, -moz-transform .2s;\n    transition: transform .2s;\n    transition: transform .2s, -webkit-transform .2s, -moz-transform .2s, -o-transform .2s\n}\n\n.citysearch .search-input {\n    height: 20px;\n    padding: 5px 0;\n    border: 0;\n    outline: 0;\n    margin: 7px 15px 0 0;\n    -webkit-border-radius: 4px;\n    -moz-border-radius: 4px;\n    border-radius: 4px;\n    text-align: center;\n    text-indent: 12px;\n    display: block;\n    -webkit-box-flex: 1;\n    -webkit-flex: 1;\n    -moz-box-flex: 1;\n    -ms-flex: 1;\n    flex: 1;\n    position: relative;\n    float: left;\n    -webkit-transition: -webkit-transform .2s;\n    transition: -webkit-transform .2s;\n    -o-transition: -o-transform .2s;\n    -moz-transition: transform .2s, -moz-transform .2s;\n    transition: transform .2s;\n    transition: transform .2s, -webkit-transform .2s, -moz-transform .2s, -o-transform .2s\n}\n\n.citysearch .clear {\n    position: absolute;\n    display: inline-block;\n    width: 11px;\n    height: 11px;\n    background: #a6a6a6;\n    line-height: 0;\n    font-size: 0;\n    vertical-align: middle;\n    -webkit-border-radius: 50%;\n    -moz-border-radius: 50%;\n    border-radius: 50%;\n    right: 62px;\n    top: 16px\n}\n\n.citysearch .clear:after {\n    content: '';\n    display: block;\n    width: 9px;\n    height: 1px;\n    background: #fff;\n    -webkit-transform: rotate(-45deg);\n    -moz-transform: rotate(-45deg);\n    -ms-transform: rotate(-45deg);\n    -o-transform: rotate(-45deg);\n    transform: rotate(-45deg);\n    position: absolute;\n    top: 5px;\n    left: 1px\n}\n\n.citysearch .clear:before {\n    position: absolute;\n    top: 5px;\n    left: 1px;\n    content: '';\n    display: block;\n    width: 9px;\n    height: 1px;\n    background: #fff;\n    -webkit-transform: rotate(45deg);\n    -moz-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    -o-transform: rotate(45deg);\n    transform: rotate(45deg)\n}\n\n.citysearch.active .search-input {\n    text-align: left;\n    -webkit-transform: translateX(-38px);\n    -moz-transform: translateX(-38px);\n    -ms-transform: translateX(-38px);\n    -o-transform: translateX(-38px);\n    transform: translateX(-38px);\n    line-height: 20px\n}\n\n.citysearch.active .cancel {\n    -webkit-transform: translateX(-38px);\n    -moz-transform: translateX(-38px);\n    -ms-transform: translateX(-38px);\n    -o-transform: translateX(-38px);\n    transform: translateX(-38px)\n}\n\n.search-dialog {\n    position: fixed;\n    top: 44px;\n    background: #fff;\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    -webkit-overflow-scrolling: touch;\n    z-index: 99999;\n    opacity: 1\n}\n\n.search-dialog .line {\n    border-bottom: 1px solid #f5f5f5;\n    font-size: 14px;\n    color: #000;\n    padding: 12px\n}\n\n.search-dialog .line .arrow {\n    position: relative;\n    display: inline-block;\n    width: 14px;\n    height: 12px;\n    border-left: 1px solid #a6a6a6;\n    border-bottom: 1px solid #a6a6a6;\n    overflow: hidden\n}\n\n.search-dialog .line .arrow:after {\n    display: inline-block;\n    position: absolute;\n    border: 1px solid #a6a6a6;\n    border-bottom-color: transparent;\n    border-left-color: transparent;\n    -webkit-transform: rotate(180deg);\n    -moz-transform: rotate(180deg);\n    -ms-transform: rotate(180deg);\n    -o-transform: rotate(180deg);\n    transform: rotate(180deg);\n    right: 0;\n    bottom: 0;\n    content: ''\n}\n\n.search-dialog .line .grey {\n    color: #a6a6a6;\n    font-size: 12px\n}\n\n.search-dialog .line .include {\n    margin-left: 36px\n}\n\n.search-dialog .line .near {\n    -webkit-border-radius: 3px;\n    -moz-border-radius: 3px;\n    border-radius: 3px;\n    border: 1px solid #a6a6a6;\n    color: #a6a6a6;\n    font-size: 12px;\n    margin-left: 30px;\n    -webkit-transform: scale(0.8, 0.8);\n    -moz-transform: scale(0.8, 0.8);\n    -ms-transform: scale(0.8, 0.8);\n    -o-transform: scale(0.8, 0.8);\n    transform: scale(0.8, 0.8);\n    display: inline-block\n}\n\n.search-dialog .line .viewspot {\n    background: #6fa92f;\n    color: #fff;\n    font-size: 12px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px\n}\n\n.search-dialog .line .right {\n    position: absolute;\n    right: 0;\n    font-size: 12px;\n    margin-right: 15px\n}\n\n.search-dialog .line .ap {\n    background: #2a96f3;\n    color: #fff;\n    font-size: 12px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px\n}\n\n.search-dialog .line .city {\n    background: #1ba9ba;\n    color: #fff;\n    font-size: 12px;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    border-radius: 2px\n}\n\n.search-dialog .line span {\n    margin-left: 4px\n}\n\n.search-dialog .noSearch {\n    background: #f5f5f5;\n    border: 0\n}\n\n.search-dialog .noSearch.no-result {\n    color: #555;\n    text-align: center;\n    background: #fff;\n    line-height: 40px\n}\n\n.noresult-search-dialog {\n    position: absolute;\n    top: 44px;\n    background: #000;\n    opacity: .4;\n    width: 100%;\n    height: 100%;\n    text-align: center;\n    color: #a6a6a6;\n    z-index: 4\n}\n\n.g-tabItemList {\n    height: 39px;\n    line-height: 39px;\n    width: 100%;\n    border-bottom: 1px solid #eceff3;\n    background: #fbfbfb\n}\n\n.g-tabItemList .g-tabItem {\n    width: 50%;\n    height: 38px;\n    color: #888;\n    font-size: 15px;\n    display: inline-block;\n    text-align: center;\n    line-height: 39px\n}\n\n.g-tabItemList .g-tabItem.on {\n    color: #1ba9ba;\n    border-bottom: 2px solid #1ba9ba\n}\n\n.animate-init {\n    -webkit-transform: translateX(100%);\n    -moz-transform: translateX(100%);\n    -ms-transform: translateX(100%);\n    -o-transform: translateX(100%);\n    transform: translateX(100%);\n    -webkit-transition: -webkit-transform 300ms;\n    transition: -webkit-transform 300ms;\n    -o-transition: -o-transform 300ms;\n    -moz-transition: transform 300ms, -moz-transform 300ms;\n    transition: transform 300ms;\n    transition: transform 300ms, -webkit-transform 300ms, -moz-transform 300ms, -o-transform 300ms;\n    position: fixed;\n    z-index: 10000;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    z-index: 100\n}\n\n.animate-start {\n    -webkit-transform: translateX(0);\n    -moz-transform: translateX(0);\n    -ms-transform: translateX(0);\n    -o-transform: translateX(0);\n    transform: translateX(0)\n}</style>\n            ");
            this.jit = $("#" + contentId);
        }
    }
    DateUtil.prototype.show = function (jinput, dateStr) {
        if (dateStr === void 0) { dateStr = this.m().format("YYYY/MM/DD"); }
        try {
            var selectValue = jinput.val();
            this.jinput = jinput;
            if (selectValue == "") {
                dateStr = this.m(dateStr).format("YYYY/MM/DD");
            }
            else {
                dateStr = selectValue;
            }
            this.jit.find(".select-single-day").removeClass("select-single-day");
            this.jit.find("[data-date=\"" + dateStr + "\"][data-type=\"true\"]").addClass("select-single-day");
        }
        catch (e) {
        }
        this.jit.show();
    };
    DateUtil.prototype.hide = function () {
        this.jit.hide();
    };
    DateUtil.prototype.getMonthItems = function (date) {
        var m = this.m;
        var start = m(date);
        var end = m(m(date).endOf("month")).endOf("week");
        var year = start.year();
        var month = start.month();
        var all = [];
        var week = start.week();
        var now = m(m(date).startOf("month")).startOf("week");
        for (; now.valueOf() <= end.valueOf(); now.add(1, "day")) {
            if (week != now.week()) {
                all.push("</div><div class=\"calendar-week\">");
                week = now.week();
            }
            //不是这个月的就不显示
            var isNeedRender = (month == m(now).month());
            //未超过开始日期的不能选
            var canSelect = isNeedRender && now.valueOf() >= this._s.valueOf();
            var css = canSelect ? "" : "disable-day";
            var html = "";
            try {
                html = isNeedRender ? this.tplFun(now.format("YYYY-MM-DD"), now.format("D")) : "";
            }
            catch (e) {
            }
            var formatDate = now.format("YYYY/MM/DD");
            var data = canSelect ? " data-date=\"" + formatDate + "\" data-type=\"" + isNeedRender + "\"" : "";
            all.push(" <div class=\"calendar-day " + css + " trust-day\" " + data + ">" + html + "</div>");
        }
        return "<div class=\"calender-month\"><div class=\"calendar-month-title\">" + year + "\u5E74" + (month + 1) + "\u6708</div><div class=\"calendar-week\">" + all.join("\n") + "</div></div>";
    };
    return DateUtil;
}());
